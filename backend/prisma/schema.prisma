generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Parque {
  id                  Int    @id @default(autoincrement())
  nombre              String
  descripcion         String
  imagen              String
  fechaDecreto        DateTime
  superficieTerrestre Int
  superficieMarina    Int
  horario     Horario?
  anuncios    Anuncio[]
  actividades Actividad[]
  flora       Flora[]
  fauna       Fauna[]
  categoria   Categoria[]
  ubicacion   Ubicacion[]
}

model Categoria {
  id          Int    @id @default(autoincrement())
  nombre      String
  parque      Parque @relation(fields: [parqueId], references: [id])
  parqueId    Int
}

model Ubicacion {
  id          Int    @id @default(autoincrement())
  direccion   String
  longitud    Int
  latitud     Int
  parque      Parque @relation(fields: [parqueId], references: [id])
  parqueId    Int
  estado      Estado[]
  region      Region[]
}

model Estado {
  id          Int    @id @default(autoincrement())
  nombre      String
  ubicacion   Ubicacion[]
}

model Region {
  id          Int    @id @default(autoincrement())
  nombre      String
  ubicacion   Ubicacion[]
}

model Anuncio {
  id          Int    @id @default(autoincrement())
  descripcion String
  parque      Parque @relation(fields: [parqueId], references: [id])
  parqueId    Int
}

model Flora {
  id          Int      @id @default(autoincrement())
  nombre      String
  imagen      String
  descripcion String
  parques     Parque[]
}

model Fauna {
  id          Int      @id @default(autoincrement())
  nombre      String
  imagen      String
  descripcion String
  parques     Parque[]
}

model Actividad {
  id          Int      @id @default(autoincrement())
  nombre      String
  descripcion String
  parques     Parque[]
}

model Horario {
  id         Int    @id @default(autoincrement())
  dias       String
  horaAbrir  String
  horaCerrar String
  parque     Parque @relation(fields: [parqueId], references: [id])
  parqueId   Int    @unique
}

model Usuario {
  id       Int    @id @default(autoincrement())
  nombre   String
  email    String
  password String
  role     Role   @default(USER)
}

enum Role {
  USER
  ADMIN
}