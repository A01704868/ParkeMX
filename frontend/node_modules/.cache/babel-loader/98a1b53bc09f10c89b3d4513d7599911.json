{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\alexd\\\\ParkeMX\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\alexd\\\\ParkeMX\\\\frontend\\\\src\\\\components\\\\ListaDeParques.jsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport BarraNav from './BarraNav';\nimport \"../css/customStyles.css\";\nimport { Dropdown, Card, Row, Col, Button, Carousel, Container, InputGroup, FormControl } from 'react-bootstrap';\n\nvar reverse = function reverse(arr1) {\n  var aux = [];\n\n  for (var i = 0; i < arr1.length; i++) {\n    aux.unshift(arr1[i]);\n  }\n\n  return aux;\n};\n\nvar renderCard = function renderCard(card) {\n  var url = \"http://localhost:4000/api/parques/img/\" + card.id;\n  return /*#__PURE__*/React.createElement(Col, {\n    key: card.id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      width: '22rem'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 21\n    }\n  }, card.nombre), /*#__PURE__*/React.createElement(Card.Img, {\n    src: url,\n    className: \"cardImage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 21\n    }\n  }, card.descripcion), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 21\n    }\n  }, card.direccion), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  }, \"Mas Informacion\"))));\n};\n\nvar renderCarousel = function renderCarousel(card) {\n  var url = \"http://localhost:4000/api/parques/img/\" + card.id;\n  return /*#__PURE__*/React.createElement(Carousel.Item, {\n    key: card.id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"d-block w-100 cardImage\",\n    src: url,\n    alt: \"First slide\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Carousel.Caption, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, card.nombre));\n};\n\nvar renderDropdown = function renderDropdown(activity) {\n  return /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: activity.id,\n    key: activity.id,\n    href: \"#/action-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, activity.nombre);\n};\n\nvar icon = \"caret-down-outline\";\nvar toggle = 0;\n\nfunction ListaDeParques() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      parques = _useState2[0],\n      setParques = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchTerm = _useState4[0],\n      setSearch = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      actividades = _useState6[0],\n      setActividades = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      searchActivity = _useState8[0],\n      setSearchActivity = _useState8[1]; //investigate reducer in react manual\n\n\n  useEffect(function () {\n    var getData = function getData() {\n      var promise1 = axios.get(\"http://localhost:4000/api/parques\");\n      var promise2 = axios.get(\"http://localhost:4000/api/parques/activity\");\n      Promise.all([promise1, promise2]).then(function (values) {\n        setParques(values[0].data);\n        setActividades(values[1].data);\n      }).catch(function (e) {\n        return console.log(e);\n      });\n    };\n\n    getData();\n  }, []);\n\n  var cardOrder = function cardOrder() {\n    if (toggle === 0) {\n      icon = \"caret-up-outline\";\n      toggle = 1;\n    } else {\n      icon = \"caret-down-outline\";\n      toggle = 0;\n    }\n\n    setParques(reverse(parques));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BarraNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Carousel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, parques.map(renderCarousel)), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, \"Encuentra Parques filtrando por Actividad\"), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"arrow\",\n    onClick: function onClick() {\n      return cardOrder();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"ion-icon\", {\n    name: icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    onChange: function onChange(event) {\n      setSearch(event.target.value);\n    },\n    placeholder: \"Busqueda\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"basic-addon2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(InputGroup.Text, {\n    id: \"basic-addon2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"ion-icon\", {\n    name: \"search-outline\",\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 56\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    className: \"drop\",\n    onSelect: function onSelect(eventKey, event) {\n      setSearchActivity(eventKey);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    variant: \"secondary\",\n    id: \"dropdown-basic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, \"Actividades\"), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }, actividades.map(renderDropdown)))))), /*#__PURE__*/React.createElement(Row, {\n    className: \"g-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, // eslint-disable-next-line\n  parques.filter(function (val) {\n    if (searchTerm === \"\") {\n      return val;\n    } else if (val.nombre.toLowerCase().includes(searchTerm.toString().toLowerCase())) {\n      return val;\n    }\n\n    if (1) {\n      console.log(val.flat());\n      return val;\n    }\n  }).map(renderCard)));\n}\n\nexport default ListaDeParques; //ver el hook de useContext\n//usar react-router-dom v6\n//investigar lo de los providers\n//no usar redux\n//atomic design","map":{"version":3,"sources":["C:/Users/alexd/ParkeMX/frontend/src/components/ListaDeParques.jsx"],"names":["React","useState","useEffect","axios","BarraNav","Dropdown","Card","Row","Col","Button","Carousel","Container","InputGroup","FormControl","reverse","arr1","aux","i","length","unshift","renderCard","card","url","id","width","nombre","descripcion","direccion","renderCarousel","renderDropdown","activity","icon","toggle","ListaDeParques","parques","setParques","searchTerm","setSearch","actividades","setActividades","searchActivity","setSearchActivity","getData","promise1","get","promise2","Promise","all","then","values","data","catch","e","console","log","cardOrder","map","event","target","value","eventKey","filter","val","toLowerCase","includes","toString","flat"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport axios from \"axios\";\r\nimport BarraNav from './BarraNav';\r\nimport \"../css/customStyles.css\"\r\nimport { Dropdown, Card, Row, Col, Button, Carousel, Container, InputGroup, FormControl } from 'react-bootstrap';\r\n\r\n\r\nconst reverse = (arr1) => {\r\n\r\n    const aux = [];\r\n\r\n    for(let i = 0; i<arr1.length;i++){\r\n        aux.unshift(arr1[i]);\r\n    }\r\n\r\n    return aux;\r\n}\r\n\r\nconst renderCard = (card) => {\r\n    const url = \"http://localhost:4000/api/parques/img/\"+card.id;\r\n    return(\r\n        <Col key = {card.id}>\r\n            <Card style={{ width: '22rem' }}>\r\n                <Card.Body>\r\n                    <Card.Title>{card.nombre}</Card.Title>\r\n                    <Card.Img src={url} className=\"cardImage\"/>\r\n                    <Card.Text>\r\n                    {card.descripcion}\r\n                    </Card.Text>\r\n                    <Card.Text>\r\n                    {card.direccion}\r\n                    </Card.Text>\r\n                    <Button variant=\"primary\">Mas Informacion</Button>\r\n                </Card.Body>\r\n            </Card>\r\n        </Col>\r\n    );\r\n}\r\n\r\nconst renderCarousel = (card) => {\r\n    const url = \"http://localhost:4000/api/parques/img/\"+card.id;\r\n\r\n    return(\r\n        <Carousel.Item key={card.id}>\r\n            <img\r\n            className=\"d-block w-100 cardImage\"\r\n            src={url}\r\n            alt=\"First slide\"\r\n            />\r\n            <Carousel.Caption>\r\n            {card.nombre}\r\n            </Carousel.Caption>\r\n        </Carousel.Item>\r\n    );\r\n}\r\n\r\nconst renderDropdown = (activity) => {\r\n\r\n    return(\r\n        <Dropdown.Item eventKey={activity.id} key={activity.id} href=\"#/action-1\">{activity.nombre}</Dropdown.Item>\r\n    );\r\n}\r\n\r\nlet icon = \"caret-down-outline\";\r\n\r\nlet toggle = 0;\r\n\r\nfunction ListaDeParques(){\r\n    \r\n    const [parques, setParques] = useState([]);\r\n    const [searchTerm, setSearch] = useState(\"\");\r\n    const [actividades, setActividades] = useState([]);\r\n    const [searchActivity, setSearchActivity] = useState();\r\n    //investigate reducer in react manual\r\n\r\n    useEffect(() => {\r\n        \r\n        const getData = () => {\r\n            let promise1 = axios.get(\"http://localhost:4000/api/parques\");\r\n\r\n            let promise2 = axios.get(\"http://localhost:4000/api/parques/activity\");\r\n\r\n            Promise.all([promise1, promise2])\r\n            .then(values => {setParques(values[0].data); setActividades(values[1].data);})\r\n            .catch(e=>console.log(e))\r\n        }\r\n\r\n        getData();\r\n        \r\n    }, []);\r\n\r\n    const cardOrder = () => {\r\n        if(toggle === 0){\r\n            icon = \"caret-up-outline\";\r\n            toggle = 1;\r\n        }else{\r\n            icon = \"caret-down-outline\";\r\n            toggle = 0;\r\n        }\r\n        setParques(reverse(parques));\r\n    }   \r\n\r\n    return(\r\n        <div>\r\n            <BarraNav />\r\n\r\n            <Carousel>\r\n                {parques.map(renderCarousel)}\r\n            </Carousel>\r\n\r\n            <h1>Encuentra Parques filtrando por Actividad</h1>\r\n\r\n            <Container>\r\n            <Row>\r\n                <Col>\r\n                <button type='button' className='arrow' onClick={() => cardOrder()}>\r\n                    <span>\r\n                        <ion-icon name={icon}></ion-icon>\r\n                    </span>\r\n                </button>\r\n                </Col>\r\n                <Col>\r\n\r\n                <InputGroup className=\"mb-3\">\r\n                    <FormControl onChange={(event) => {setSearch(event.target.value)}}\r\n                    placeholder=\"Busqueda\"\r\n                    aria-label=\"Recipient's username\"\r\n                    aria-describedby=\"basic-addon2\"\r\n                    />\r\n                    <InputGroup.Text id=\"basic-addon2\"><ion-icon name=\"search-outline\" size=\"large\"></ion-icon></InputGroup.Text>\r\n                </InputGroup>\r\n                \r\n                </Col>\r\n                <Col>\r\n                    <Dropdown className=\"drop\" onSelect={(eventKey, event) => {setSearchActivity(eventKey)}}>\r\n                        <Dropdown.Toggle variant=\"secondary\" id=\"dropdown-basic\">\r\n                            Actividades\r\n                        </Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu>\r\n                            {actividades.map(renderDropdown)}\r\n                        </Dropdown.Menu>\r\n                    </Dropdown>\r\n                </Col>\r\n            </Row>\r\n            </Container>\r\n\r\n            <Row className=\"g-4\">\r\n                {// eslint-disable-next-line\r\n                parques.filter((val) => {\r\n                    if(searchTerm === \"\"){\r\n                        return val;\r\n                    }else if(val.nombre.toLowerCase().includes(searchTerm.toString().toLowerCase())){\r\n                        return val;\r\n                    }\r\n                    \r\n                    if(1){\r\n                        console.log(val.flat())\r\n                        return val;\r\n                    }\r\n                }).map(renderCard)}\r\n            </Row>\r\n\r\n        </div>\r\n    );  \r\n}\r\n\r\nexport default ListaDeParques;\r\n\r\n//ver el hook de useContext\r\n//usar react-router-dom v6\r\n//investigar lo de los providers\r\n//no usar redux\r\n\r\n//atomic design"]},"metadata":{},"sourceType":"module"}